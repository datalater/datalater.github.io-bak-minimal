<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /><meta name="day-prompt" content="days ago" /><meta name="hour-prompt" content="hours ago" /><meta name="minute-prompt" content="minutes ago" /><meta name="justnow-prompt" content="just now" /><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="VanillaJS로 선언형 컴포넌트 만들기" /><meta property="og:locale" content="en" /><meta name="description" content="💁 설명 바닐라JS를 이용하여 선언형 컴포넌트를 만듭니다." /><meta property="og:description" content="💁 설명 바닐라JS를 이용하여 선언형 컴포넌트를 만듭니다." /><link rel="canonical" href="https://datalater.github.io/posts/declarative-component/" /><meta property="og:url" content="https://datalater.github.io/posts/declarative-component/" /><meta property="og:site_name" content="Cheo’s devlog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-09T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="VanillaJS로 선언형 컴포넌트 만들기" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="_cSx2Sh_11gfNdeu98KrYEaCShSvXe-c885FSkEvwEA" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-15T21:39:28+09:00","datePublished":"2022-03-09T00:00:00+09:00","description":"💁 설명 바닐라JS를 이용하여 선언형 컴포넌트를 만듭니다.","headline":"VanillaJS로 선언형 컴포넌트 만들기","mainEntityOfPage":{"@type":"WebPage","@id":"https://datalater.github.io/posts/declarative-component/"},"url":"https://datalater.github.io/posts/declarative-component/"}</script><title>VanillaJS로 선언형 컴포넌트 만들기 | Cheo's devlog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Cheo's devlog"><meta name="application-name" content="Cheo's devlog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><meta name="google-site-verification" content="_cSx2Sh_11gfNdeu98KrYEaCShSvXe-c885FSkEvwEA" /><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous" /><link rel="dns-prefetch" href="https://fonts.gstatic.com" /><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials" /><link rel="dns-prefetch" href="https://www.google-analytics.com" /><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous" /><link rel="dns-prefetch" href="https://www.googletagmanager.com" /><link rel="preconnect" href="https://cdn.jsdelivr.net" /><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" /><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/8105528?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Cheo's devlog</a></div><div class="site-subtitle font-italic">체오의 개발 블로그</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/resume/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>RESUME</span> </a><li class="nav-item"> <a href="/random/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>RANDOM</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/datalater" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['the7mincheol','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><script type="text/javascript"> const random = document.querySelector("[href*='/random']"); if (random) { random.addEventListener('click', (e) => { e.preventDefault(); fetch("/archives") .then((response) => response.text()) .then((htmlText) => { const parser = new DOMParser(); const document = parser.parseFromString(htmlText, "text/html"); const posts = document.querySelectorAll("#archives [href*=posts]"); const links = Array.from(posts).map((post) => post.href); const randomIndex = Math.floor(Math.random() * links.length); const randomLink = links[randomIndex]; window.location = randomLink; }) }) } </script><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>VanillaJS로 선언형 컴포넌트 만들기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>VanillaJS로 선언형 컴포넌트 만들기</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Cheo </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Mar 9, 2022, 12:00 AM +0900" >Mar 9, 2022<i class="unloaded">2022-03-09T00:00:00+09:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Tue, Mar 15, 2022, 9:39 PM +0900" >Mar 15, 2022<i class="unloaded">2022-03-15T21:39:28+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5070 words">28 min read</span></div></div><div class="post-content"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3C/svg%3E" data-proofer-ignore data-src="https://noticon-static.tammolo.com/dgggcrkxq/image/upload/v1567008394/noticon/ohybolu4ensol1gzqas1.png" class="preview-img" alt="JavaScript" width="100" height="100"><h2 id="-설명">💁 설명</h2><p>바닐라JS를 이용하여 선언형 컴포넌트를 만듭니다.</p><h2 id="공통-준비사항">공통 준비사항</h2><h3 id="indexhtml">index.html</h3><div class="language-html highlighter-rouge"><div class="code-header"> <span text-data=" HTML "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"X-UA-Compatible"</span> <span class="na">content=</span><span class="s">"IE=edge"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>선언형 컴포넌트<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"main.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></table></code></div></div><p>위와 같이 html 파일이 주어졌을 때 각 미션마다 주어진 요구사항을 만족하는 <code class="language-plaintext highlighter-rouge">main.js</code> 파일을 만듭니다.</p><h2 id="토글-버튼-만들기">토글 버튼 만들기</h2><h3 id="요구사항">요구사항</h3><pre><code class="language-plain">- [ ] 화면에 버튼을 3개 만들고, 버튼을 클릭하면 취소선이 그어지도록 하세요.
</code></pre><h3 id="단계별-추상화">단계별 추상화</h3><h4 id="명령형-프로그래밍-방식">명령형 프로그래밍 방식</h4><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">$button1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$button1</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">버튼1</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">$button2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$button2</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">버튼2</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">$button3</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$button3</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">버튼3</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">$app</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$app</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button1</span><span class="p">);</span>
<span class="nx">$app</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button2</span><span class="p">);</span>
<span class="nx">$app</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button3</span><span class="p">);</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">$button</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">target</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">e</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">target</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">target</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></table></code></div></div><p>위 코드에서 if문으로 시작하는 <code class="language-plaintext highlighter-rouge">target.style.textDecoration</code> 코드 청크(chunk)는 <code class="language-plaintext highlighter-rouge">target</code> 데이터를 처리하는 규칙을 코드로 적은 것입니다. 요약하면, “취소선이 그어져 있으면 취소선을 없애고, 취소선이 없으면 취소선을 긋는 토글 기능”입니다. 데이터를 처리하는 하나의 규칙을 하나의 함수로 분리하면, 여러 줄의 코드가 하나의 이름으로 추상화되어 코드의 가독성이 올라갑니다.</p><details> <summary><strong>정리: 동일한 데이터를 처리하는 여러 줄의 코드 가독성 올리기</strong></summary><ul><li>동일한 데이터를 처리하는 규칙을 담고 있는 여러 줄의 코드를 하나의 함수로 분리합니다.<li>규칙을 몇 단어로 요약하여 함수의 이름으로 붙입니다.</ul>그러면 여러 줄의 코드가 하나의 이름(함수 이름)으로 추상화되어 코드의 가독성이 올라갑니다. </details><h4 id="토글-기능을-함수로-추상화">토글 기능을 함수로 추상화</h4><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">$button1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$button1</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">버튼1</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">$button2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$button2</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">버튼2</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">$button3</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$button3</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">버튼3</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">$app</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$app</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button1</span><span class="p">);</span>
<span class="nx">$app</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button2</span><span class="p">);</span>
<span class="nx">$app</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button3</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">toggleLineThrough</span> <span class="o">=</span> <span class="p">(</span><span class="nx">button</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">$button</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">target</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">e</span><span class="p">;</span>

    <span class="nx">toggleLineThrough</span><span class="p">(</span><span class="nx">target</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></table></code></div></div><p>이제 선언형 프로그래밍 방식으로 바꿔보겠습니다. 선언형 프로그래밍의 특징은 무언가를 구현한다고 할 때, 그것을 구현하는 순서나 방법 같은 “어떻게”를 작성하는 게 아니라 구현하고자 하는 바가 “무엇”인지 작성하는 것입니다.</p><p>HTML 요소를 예로 들어보겠습니다. Github 주소인 <code class="language-plaintext highlighter-rouge">www.github.com</code>으로 이동하는 링크를 구현한다고 하면 아래와 같이 작성하면 됩니다.</p><div class="language-html highlighter-rouge"><div class="code-header"> <span text-data=" HTML "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"www.github.com"</span><span class="nt">&gt;</span>Github으로 이동<span class="nt">&lt;/a&gt;</span>
</pre></table></code></div></div><p>요소 a가 “어떻게” 동작하는지 우리는 전혀 모릅니다. <code class="language-plaintext highlighter-rouge">href</code> 속성에 URL을 넣으면 그게 안에서 어떻게 처리되는지도 모릅니다. 클릭 이벤트를 어떻게 처리하는지도 보이지 않습니다. 다만 링크 요소를 구현할 때 필요한 핵심 정보인 <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">href="www.github.com"</code>, <code class="language-plaintext highlighter-rouge">Github으로 이동</code>을 명시적으로 전달할 뿐입니다. 동작에 대한 세부적인 구현은 숨겨져 있습니다.</p><details> <summary><strong>정리: 선언형으로 컴포넌트를 작성하는 방법</strong></summary> 컴포넌트의 핵심 데이터는 밖에서 전달하고 세부 구현은 안으로 숨깁니다. </details><p>토글 버튼을 사용하는 입장에서 핵심 정보는 무엇일까요? “(1) 토글 버튼을 어디에 추가할 것인지”와 “(2) 버튼 텍스트”만 밖에서 전달하도록 하고 나머지는 컴포넌트 내부에 뭉쳐보겠습니다.</p><h4 id="선언형-프로그래밍-방식">선언형 프로그래밍 방식</h4><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">ToggleButton</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">text</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">$button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>

  <span class="kd">let</span> <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">$button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isInit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$target</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button</span><span class="p">);</span>

      <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>
      <span class="p">});</span>

      <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">$app</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼1</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼2</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼3</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</pre></table></code></div></div><p>토글 버튼에 필요한 내용들이 <code class="language-plaintext highlighter-rouge">ToggleButton</code>에 모두 응집되었습니다. <code class="language-plaintext highlighter-rouge">new ToggleButton()</code>으로 토글 버튼을 생성하는 코드를 보면 토글 버튼을 만드는 방법이 매우 간단해졌다는 것을 알 수 있습니다. 핵심 데이터는 밖에서 전달하고 나머지 세부구현은 컴포넌트 내부로 숨긴 덕분에 코드를 재사용하는 것도 간편해졌고, 작성된 코드를 읽는 것도 매우 쉬워졌습니다. 이밖에 토글 버튼 코드를 유지보수하고 기능을 확장하는 관점에서 선언형 방식은 어떤 이점이 있을까요?</p><p>명령형 방식과 선언형 방식에 동일한 기능을 새롭게 추가한다고 가정해볼게요. 위 선언형 방식에서는 <code class="language-plaintext highlighter-rouge">ToggleButton</code> 컴포넌트 안에 새로운 기능을 추가하면 됩니다. 하지만 명령형 방식은 토글 버튼을 담당하는 코드의 범위나 영역이 불분명하고, 코드의 순서가 명령의 순서이기 때문에 명령의 순서를 잘 알아야 하고, 기능을 추가하다가 자칫 명령의 순서가 잘못 꼬일 위험이 있습니다. 코드의 길이가 조금만 길어져도 명령형 코드는 쉽게 한 눈에 잘 들어오지 않기 때문입니다. 반면에 선언형 토글 버튼은 렌더링되는 시점 등 찾고자 하는 코드의 의도가 어디에 있는지 한 눈에 알 수 있습니다.</p><p>좀 더 구체적으로 버튼의 토글 횟수를 세는 기능을 추가한다고 가정해보겠습니다.</p><h4 id="명령형-방식">명령형 방식</h4><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">$button1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$button1</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">버튼1</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">$button1</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">button1</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 어떤 버튼인지 알기 위해 클래스를 추가한다</span>
<span class="kd">let</span> <span class="nx">button1ToggleCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// 버튼1에 대한 토글 카운트 변수를 추가한다</span>

<span class="kd">const</span> <span class="nx">$button2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$button2</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">버튼2</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">$button2</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">button2</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">button2ToggleCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">$button3</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$button3</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">버튼3</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">$button3</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">button3</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">button3ToggleCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">$app</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">$app</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button1</span><span class="p">);</span>
<span class="nx">$app</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button2</span><span class="p">);</span>
<span class="nx">$app</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button3</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">toggleLineThrough</span> <span class="o">=</span> <span class="p">(</span><span class="nx">button</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">className</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">button1</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 버튼1이라면</span>
      <span class="nx">button1ToggleCount</span><span class="o">++</span><span class="p">;</span>
      <span class="nx">button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`버튼1 (</span><span class="p">${</span><span class="nx">button1ToggleCount</span><span class="p">}</span><span class="s2">)`</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">className</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">button2</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 버튼2이라면</span>
      <span class="nx">button2ToggleCount</span><span class="o">++</span><span class="p">;</span>
      <span class="nx">button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`버튼2 (</span><span class="p">${</span><span class="nx">button2ToggleCount</span><span class="p">}</span><span class="s2">)`</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">className</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">button3</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 버튼3이라면</span>
      <span class="nx">button3ToggleCount</span><span class="o">++</span><span class="p">;</span>
      <span class="nx">button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`버튼3 (</span><span class="p">${</span><span class="nx">button3ToggleCount</span><span class="p">}</span><span class="s2">)`</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">$button</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">target</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">e</span><span class="p">;</span>

    <span class="nx">toggleLineThrough</span><span class="p">(</span><span class="nx">target</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></table></code></div></div><p>위와 같이 명령형으로 작성해도 정상적으로 동작하지만, 버튼의 개수가 더 많아진다거나 또 다른 새로운 기능을 추가해야 하는 상황이 오면 버그가 만들어질 확률이 큽니다. 코드가 길어지고 복잡해질수록 원하는 코드의 로직을 찾기가 더 어려워지기 때문입니다. 선언형 방식으로 동일한 기능 추가를 구현해보겠습니다.</p><details> <summary><strong>정리: 명령형으로 작성한 토글 버튼 코드가 기능을 추가할수록 복잡해지는 이유</strong></summary> 취소선을 긋는 토글 기능은 함수로 분리되어 재사용이 가능해졌지만, 만들어진 토글 버튼을 식별하는 이름(ex. button1, button2, button3)은 재사용이 불가능하고 일일이 관리해야 하기 때문입니다. 결과적으로 명령형으로 작성된 토글 버튼 코드는, 토글 버튼에 대한 식별자가 필요한 기능을 하나씩 추가 구현할 때마다 로직 내부의 코드도 복잡도가 증가할 수밖에 없습니다. </details><h4 id="선언형-방식">선언형 방식</h4><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">ToggleButton</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">text</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">$button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>

  <span class="kd">let</span> <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">toggleCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>

      <span class="nx">toggleCount</span><span class="o">++</span><span class="p">;</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">text</span><span class="p">}</span><span class="s2"> (</span><span class="p">${</span><span class="nx">toggleCount</span><span class="p">}</span><span class="s2">)`</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">$button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isInit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$target</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button</span><span class="p">);</span>

      <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">$app</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼1</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼2</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼3</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</pre></table></code></div></div><p>반면에 선언적으로 작성한 토글 버튼 컴포넌트는 버튼에 대한 식별자가 컴포넌트 내부에 있어서 식별자가 필요한 기능을 새롭게 추가하더라도 간단하게 처리할 수 있습니다.</p><h2 id="기능-추가하기-1">기능 추가하기 1</h2><h3 id="요구사항-1">요구사항</h3><pre><code class="language-plain">- [ ] 3번 클릭하면 alert 창을 띄우세요.
</code></pre><h3 id="구현">구현</h3><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">ToggleButton</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">text</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">$button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>

  <span class="kd">let</span> <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">clickCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isInit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>

      <span class="nx">$target</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button</span><span class="p">);</span>

      <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">clickCount</span><span class="o">++</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">clickCount</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">3번째 클릭!</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">$app</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼1</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼2</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼3</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</pre></table></code></div></div><p>나머지 연산 로직을 컴포넌트 내부에 추가하여 간단하게 기능을 추가할 수 있습니다.</p><h2 id="기능-추가하기-2">기능 추가하기 2</h2><h3 id="요구사항-2">요구사항</h3><pre><code class="language-plain">- [ ] 첫번째 버튼은 2번 클릭하면 alert 창을 띄우고 두번째 버튼은 3번 클릭하면 alert 버튼을 띄우세요.
</code></pre><h3 id="동일한-컴포넌트에-서로-다른-동작-구현하기">동일한 컴포넌트에 서로 다른 동작 구현하기</h3><p>토글 버튼의 취소선 토글 기능은 동일하지만 그 외에 서로 다른 동작을 하게 만들려면 어떻게 해야 할까요? 가장 간단한 방법 중 하나는 외부에서 행동을 주입하는 것입니다.</p><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">ToggleButton</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">onClick</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">$button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>

  <span class="kd">let</span> <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">clickCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isInit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>

      <span class="nx">$target</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button</span><span class="p">);</span>

      <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">clickCount</span><span class="o">++</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>

    <span class="nx">onClick</span> <span class="o">&amp;&amp;</span> <span class="nx">onClick</span><span class="p">(</span><span class="nx">clickCount</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">$app</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼1</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">onClick</span><span class="p">:</span> <span class="p">(</span><span class="nx">clickCount</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">clickCount</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">2번째 클릭!</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼2</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">onClick</span><span class="p">:</span> <span class="p">(</span><span class="nx">clickCount</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">clickCount</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">3번째 클릭!</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼3</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</pre></table></code></div></div><details> <summary><strong>정리: 재사용이 가능한 컴포넌트에 별개의 행동을 추가하는 방법</strong></summary> 컴포넌트 외부에서 컴포넌트 내부로 행동을 주입하면 됩니다. 이렇게 되면 코드를 읽는 관점에서도 이득이 생깁니다. 왜냐하면 컴포넌트를 사용할 때 하고자 하는 행동을 코드로 드러내게 되어, 해당 컴포넌트가 어떤 별개의 행동을 할 지 한 눈에 알 수 있기 때문입니다. 여전히 "핵심 정보는 밖에서 전달하고, 세부 구현은 안으로 숨긴다"는 규칙을 지켜서 코드의 로직을 쉽게 파악할 수 있게 됩니다. </details><h2 id="기능-추가하기-3">기능 추가하기 3</h2><h3 id="요구사항-3">요구사항</h3><pre><code class="language-plain">- [ ] 기존 토글 버튼에서 버튼을 클릭하기 전에 볼드(bold) 처리하고 클릭하면 bold 처리를 취소하도록 만드세요.
</code></pre><h3 id="기존-코드에서-기능을-추가할-경우">기존 코드에서 기능을 추가할 경우</h3><p>기존 코드를 유지하면서 볼드 표시를 토글하는 기능을 추가하려면 아래와 같이, 초기 스타일에 볼드 처리를 하고 toggle 함수 안에도 if문을 추가하여 볼드 처리 로직을 추가해야 합니다.</p><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">ToggleButton</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">onClick</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">$button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">fontWeight</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">700</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// added</span>

  <span class="kd">let</span> <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">clickCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// added</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">fontWeight</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">700</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">fontWeight</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span> <span class="c1">// 참고로 빈 문자열을 넣으면 해당 스타일의 기본값이 반영됩니다.</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">fontWeight</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">700</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isInit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>

      <span class="nx">$target</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button</span><span class="p">);</span>

      <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">clickCount</span><span class="o">++</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>

    <span class="nx">onClick</span> <span class="o">&amp;&amp;</span> <span class="nx">onClick</span><span class="p">(</span><span class="nx">clickCount</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="p">}</span>
</pre></table></code></div></div><p>그런데 토글 상태에 따라 UI를 업데이트하게 만들면 더 편하지 않을까요?</p><p>가령 다음과 같이 말입니다:</p><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="nx">toggled</span> <span class="p">?</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">fontWeight</span> <span class="o">=</span> <span class="nx">toggled</span> <span class="p">?</span> <span class="dl">""</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">700</span><span class="dl">"</span><span class="p">;</span>
</pre></table></code></div></div><p>잘 생각해보면 토글 버튼 컴포넌트가 렌더링하는 흐름을 다음과 같이 정리할 수 있습니다:</p><ol><li>사용자가 클릭하면 토글 상태가 변경된다. 즉, <code class="language-plaintext highlighter-rouge">이벤트 발생 =&gt; 컴포넌트의 상태 변경</code><li>토글 상태가 변경되면 규칙에 따라 스타일이 변경되어야 한다. 즉, <code class="language-plaintext highlighter-rouge">상태 변경 =&gt; UI 변경</code></ol><p>우리가 해야 할 일은 크게 다음과 같습니다:</p><ol><li>이벤트 발생에 따라 상태 변경하기<li>변경된 상태에 따라 UI 렌더링하기</ol><h3 id="상태에-따라-렌더링하도록-만들기">상태에 따라 렌더링하도록 만들기</h3><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">ToggleButton</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">onClick</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">$button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>

  <span class="kd">let</span> <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="c1">// 상태 초기화</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">clickCount</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">toggled</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">};</span>

  <span class="c1">// 03 상태가 변경되면 리렌더링한다</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span> <span class="o">=</span> <span class="p">(</span><span class="nx">nextState</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="nx">nextState</span><span class="p">;</span> <span class="c1">// 상태 변경</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span> <span class="c1">// 리렌더</span>
  <span class="p">};</span>

  <span class="c1">// 04 렌더 함수는 현재 상태를 기준으로 렌더링을 한다</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">$button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">text</span><span class="p">}</span><span class="s2"> (</span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">clickCount</span><span class="p">}</span><span class="s2">)`</span><span class="p">;</span>

    <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">toggled</span> <span class="p">?</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>
    <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">fontWeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">toggled</span> <span class="p">?</span> <span class="dl">""</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">700</span><span class="dl">"</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isInit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$target</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button</span><span class="p">);</span>

      <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="c1">// 01 이벤트가 발생하면</span>
  <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// 02 상태를 변경하고</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="na">clickCount</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">clickCount</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
      <span class="na">toggled</span><span class="p">:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">toggled</span><span class="p">,</span>
    <span class="p">});</span>

    <span class="c1">// 개별 행동도 마찬가지로 현재 상태를 기준으로 행동을 한다</span>
    <span class="nx">onClick</span> <span class="o">&amp;&amp;</span> <span class="nx">onClick</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">clickCount</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="p">}</span>
</pre></table></code></div></div><p>달라진 점:</p><ul><li>이벤트가 발생하면 UI를 바로 변경하는게 아니라 상태를 변경하게 되었습니다.<li>상태가 변경되면 자동으로 리렌더링하게 되었습니다.<li>UI를 변경하는 토글 함수 코드가 렌더 함수 내부로 이동했습니다.</ul><p>즉, 컴포넌트가 “상태가 변경되면 자동으로 리렌더링”하는 일련의 흐름을 가지게 되었습니다. 코드가 일련의 흐름을 가지면 코드의 유지보수와 확장이 쉬워집니다. 원하는 로직이 어디에 있는지 더 쉽게 알 수 있기 때문입니다. 가령, 이전처럼 DOM을 여기저기서 수정할 필요가 없어졌습니다. DOM 수정은 UI와 관련된 코드이므로 렌더 함수 안에서 찾고 변경하면 됩니다.</p><pre><code class="language-mermaid">graph LR
  subgraph 컴포넌트의 흐름
  A["이벤트 발생"] --&gt; B
  B["상태 변경"] --&gt; C["리렌더링"]
  end
</code></pre><p>이제 새로운 기능을 추가하고 싶다면 우리가 할 일은 다음으로 구분됩니다:</p><ul><li>이벤트 발생에 따라 상태를 어떻게 변경하면 될지 코드를 작성합니다.<li>상태에 따라 UI를 어떻게 변경하면 될지 코드를 작성합니다.</ul><h2 id="기능-추가하기-4">기능 추가하기 4</h2><h3 id="요구사항-4">요구사항</h3><pre><code class="language-plain">- [ ] 5초 뒤에 자동으로 토글되는 버튼을 만드세요.
</code></pre><h3 id="구현-1">구현</h3><p>기존 토글 버튼을 확장해서 구현할 수 있습니다.</p><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">TimerButton</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">timer</span> <span class="o">=</span> <span class="mi">3000</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">button</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
    <span class="nx">$target</span><span class="p">,</span>
    <span class="nx">text</span><span class="p">,</span>
    <span class="na">onClick</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">button</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
          <span class="p">...</span><span class="nx">button</span><span class="p">.</span><span class="nx">state</span><span class="p">,</span>
          <span class="na">toggled</span><span class="p">:</span> <span class="o">!</span><span class="nx">button</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">toggled</span><span class="p">,</span>
        <span class="p">});</span>
      <span class="p">},</span> <span class="nx">timer</span><span class="p">);</span>
    <span class="p">},</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">ToggleButton</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">onClick</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">$button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>

  <span class="kd">let</span> <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">clickCount</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">toggled</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span> <span class="o">=</span> <span class="p">(</span><span class="nx">nextState</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="nx">nextState</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">$button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">text</span><span class="p">}</span><span class="s2"> (</span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">clickCount</span><span class="p">}</span><span class="s2">)`</span><span class="p">;</span>

    <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">toggled</span> <span class="p">?</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isInit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$target</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button</span><span class="p">);</span>

      <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="na">clickCount</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">clickCount</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
      <span class="na">toggled</span><span class="p">:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">toggled</span><span class="p">,</span>
    <span class="p">});</span>

    <span class="nx">onClick</span> <span class="o">&amp;&amp;</span> <span class="nx">onClick</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">clickCount</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">$app</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼1</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">onClick</span><span class="p">:</span> <span class="p">(</span><span class="nx">clickCount</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">clickCount</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">2번째 클릭!</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼2</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">onClick</span><span class="p">:</span> <span class="p">(</span><span class="nx">clickCount</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">clickCount</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">3번째 클릭!</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">버튼3</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">TimerButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3초 타이머</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nx">TimerButton</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10초 타이머</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">timer</span><span class="p">:</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span>
<span class="p">});</span>
</pre></table></code></div></div><h2 id="기능-추가하기-5">기능 추가하기 5</h2><h3 id="요구사항-5">요구사항</h3><pre><code class="language-plain">- [ ] 인자로 type과 timer 값을 입력하면 자동으로 토글 버튼이나 타이머 버튼을 추가하는 ButtonGroup 컴포넌트를 만드세요.
</code></pre><h3 id="구현-2">구현</h3><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">ButtonGroup</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">buttons</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">$group</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">div</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">let</span> <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isInit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">buttons</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(({</span> <span class="nx">type</span><span class="p">,</span> <span class="p">...</span><span class="nx">props</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">toggle</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span> <span class="na">$target</span><span class="p">:</span> <span class="nx">$group</span><span class="p">,</span> <span class="p">...</span><span class="nx">props</span> <span class="p">});</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">timer</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">new</span> <span class="nx">TimerButton</span><span class="p">({</span> <span class="na">$target</span><span class="p">:</span> <span class="nx">$group</span><span class="p">,</span> <span class="p">...</span><span class="nx">props</span> <span class="p">});</span>
        <span class="p">}</span>
      <span class="p">});</span>

      <span class="nx">$target</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$group</span><span class="p">);</span>
      <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">TimerButton</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">timer</span> <span class="o">=</span> <span class="mi">3000</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">button</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ToggleButton</span><span class="p">({</span>
    <span class="nx">$target</span><span class="p">,</span>
    <span class="nx">text</span><span class="p">,</span>
    <span class="na">onClick</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">button</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
          <span class="p">...</span><span class="nx">button</span><span class="p">.</span><span class="nx">state</span><span class="p">,</span>
          <span class="na">toggled</span><span class="p">:</span> <span class="o">!</span><span class="nx">button</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">toggled</span><span class="p">,</span>
        <span class="p">});</span>
      <span class="p">},</span> <span class="nx">timer</span><span class="p">);</span>
    <span class="p">},</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">ToggleButton</span><span class="p">({</span> <span class="nx">$target</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">onClick</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">$button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">);</span>

  <span class="kd">let</span> <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">clickCount</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">toggled</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span> <span class="o">=</span> <span class="p">(</span><span class="nx">nextState</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="nx">nextState</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">$button</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">text</span><span class="p">}</span><span class="s2"> (</span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">clickCount</span><span class="p">}</span><span class="s2">)`</span><span class="p">;</span>

    <span class="nx">$button</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">textDecoration</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">toggled</span> <span class="p">?</span> <span class="dl">"</span><span class="s2">line-through</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isInit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$target</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$button</span><span class="p">);</span>

      <span class="nx">isInit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">$button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="na">clickCount</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">clickCount</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
      <span class="na">toggled</span><span class="p">:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">toggled</span><span class="p">,</span>
    <span class="p">});</span>

    <span class="nx">onClick</span> <span class="o">&amp;&amp;</span> <span class="nx">onClick</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">clickCount</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">$app</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ButtonGroup</span><span class="p">({</span>
  <span class="na">$target</span><span class="p">:</span> <span class="nx">$app</span><span class="p">,</span>
  <span class="na">buttons</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">toggle</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">토글 버튼</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">timer</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">타이머 버튼</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">timer</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">],</span>
<span class="p">});</span>
</pre></table></code></div></div><h2 id="-함께-보기">📚 함께 보기</h2></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href="/categories/til/" >TIL</a ></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8/" class="post-tag no-text-decoration" >자바스크립트</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2" ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=VanillaJS로 선언형 컴포넌트 만들기 - Cheo's devlog&url=https://datalater.github.io/posts/declarative-component/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=VanillaJS로 선언형 컴포넌트 만들기 - Cheo's devlog&u=https://datalater.github.io/posts/declarative-component/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=VanillaJS로 선언형 컴포넌트 만들기 - Cheo's devlog&url=https://datalater.github.io/posts/declarative-component/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/first-shell-script/">첫 셸 스크립트 만들기 (feat. 자동 로깅 스크립트)</a><li><a href="/posts/tdd-currency-3/">화폐 예제 실습으로 TDD의 리듬 느껴보기 - 3. 모두를 위한 평등</a><li><a href="/posts/retro-tdd-currency-1/">회고 - 화폐 예제 실습으로 TDD의 리듬 느껴보기</a><li><a href="/posts/tdd-currency-2/">화폐 예제 실습으로 TDD의 리듬 느껴보기 - 2. 타락한 객체</a><li><a href="/posts/tdd-currency-1/">화폐 예제 실습으로 TDD의 리듬 느껴보기 - 1. 다중 통화를 지원하는 Money 객체</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/tdd-by-example/">tdd-by-example</a> <a class="post-tag" href="/tags/tdd/">tdd</a> <a class="post-tag" href="/tags/%EB%A6%AC%EC%95%A1%ED%8A%B8/">리액트</a> <a class="post-tag" href="/tags/%ED%99%98%EA%B2%BD%EC%84%A4%EC%A0%95/">환경설정</a> <a class="post-tag" href="/tags/jest/">jest</a> <a class="post-tag" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a> <a class="post-tag" href="/tags/bash/">bash</a> <a class="post-tag" href="/tags/emotion/">emotion</a> <a class="post-tag" href="/tags/eslint/">eslint</a> <a class="post-tag" href="/tags/github-actions/">github actions</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4" ><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/tdd-currency-2/"><div class="card-body"> <span class="timeago small" >Feb 12, 2022<i class="unloaded">2022-02-12T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>화폐 예제 실습으로 TDD의 리듬 느껴보기 - 2. 타락한 객체</h3><div class="text-muted small"><p> 💁 프롤로그 시리즈 “화폐 예제 실습으로 TDD의 리듬 느껴보기“에서 사용되는 공통 프롤로그입니다. graph LR A[?] --&gt; B[Clean code that works] 어떻게 하면 작동하는 깔끔한 코드(clean code that works)를 얻을 수 있을까요? 켄트 벡(Kent Beck)은 자동화된 테스트로 개발을 ...</p></div></div></a></div><div class="card"> <a href="/posts/random-post/"><div class="card-body"> <span class="timeago small" >Feb 15, 2022<i class="unloaded">2022-02-15T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>지킬 블로그에 랜덤 포스트 보기 기능 추가하기</h3><div class="text-muted small"><p> 💁 설명 블로그 글이 추가되면서 틈틈이 지난 글을 되돌아보고 퇴고하는 일이 잦아졌습니다. 그런데 직접 글을 특정해서 찾아가기보다는 랜덤으로 제시해주면 여러 가지 글을 골고루 볼 수 있을 것 같은 생각이 들었습니다. 지킬 블로그에 랜덤 포스트 보기 기능을 추가하면서 어떻게 개발했는지 정리합니다. TL;DR 모든 포스트 URL을 보여주는 동일...</p></div></div></a></div><div class="card"> <a href="/posts/react-useEffect-optimization/"><div class="card-body"> <span class="timeago small" >Feb 22, 2022<i class="unloaded">2022-02-22T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>리액트 useEffect 최적화하기 (feat. 타이머 컴포넌트)</h3><div class="text-muted small"><p> 💁 설명 useEffect를 사용할 때 자주 변하는 값을 의존성 배열에 넣으면 변하는 빈도만큼 이펙트가 실행되어 성능적으로 낭비가 될 수 있습니다. useEffect의 의존성 배열에 있는 종속성이 너무 자주 변경될 때 최적화할 수 있는 패턴을 타이머 컴포넌트를 예시로 들어서 정리합니다. TR;DR 이펙트에서 상태를 업데이트할 때 클로저를 사...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/react-useEffect-optimization/" class="btn btn-outline-primary" prompt="Older"><p>리액트 useEffect 최적화하기 (feat. 타이머 컴포넌트)</p></a> <a href="/posts/dsalgo-menu-renewal/" class="btn btn-outline-primary" prompt="Newer"><p>프로그래머스 - 메뉴 리뉴얼 (JavaScript)</p></a></div><script src="https://utteranc.es/client.js" repo="datalater/datalater.github.io" issue-term="pathname" label="comment" theme="github-light" crossorigin="anonymous" async ></script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/datalater">Cheo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/tdd-by-example/">tdd by example</a> <a class="post-tag" href="/tags/tdd/">tdd</a> <a class="post-tag" href="/tags/%EB%A6%AC%EC%95%A1%ED%8A%B8/">리액트</a> <a class="post-tag" href="/tags/%ED%99%98%EA%B2%BD%EC%84%A4%EC%A0%95/">환경설정</a> <a class="post-tag" href="/tags/jest/">jest</a> <a class="post-tag" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a> <a class="post-tag" href="/tags/bash/">bash</a> <a class="post-tag" href="/tags/emotion/">emotion</a> <a class="post-tag" href="/tags/eslint/">eslint</a> <a class="post-tag" href="/tags/github-actions/">github actions</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
